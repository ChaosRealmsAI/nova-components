# Nova Components ä¸»é¢˜å¼€å‘ SOP

> ç‰ˆæœ¬: v5.0
> æ›´æ–°æ—¶é—´: 2025-12-04

## æ¦‚è¿°

æœ¬æ–‡æ¡£æè¿°å¦‚ä½•ä¸º Nova Components å¼€å‘ä¸€ä¸ªæ–°çš„é£æ ¼åŒ–ä¸»é¢˜ã€‚

---

## âš ï¸ å…³é”®æ‰§è¡Œè§„åˆ™

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â›” å¼ºåˆ¶è¦æ±‚ï¼š                                                           â”‚
â”‚                                                                         â”‚
â”‚  1. æ¯å®Œæˆä¸€ä¸ªä»»åŠ¡ï¼Œå¿…é¡»ç«‹å³åœ¨ TODOLIST.md æ‰“å‹¾ [x]                        â”‚
â”‚  2. ç¦æ­¢è·³è¿‡ä»»ä½•ç»„ä»¶ï¼Œ53 ä¸ªç»„ä»¶å¿…é¡»å…¨éƒ¨å®Œæˆ                                 â”‚
â”‚  3. ç»„ä»¶æ ·å¼ä¸­ç¦æ­¢ç•™ // TODO å ä½ï¼Œå¿…é¡»å¡«å…¥å®é™…æ ·å¼                         â”‚
â”‚  4. åªæœ‰ TODOLIST.md ä¸­ Phase 1-4 å…¨éƒ¨æ‰“å‹¾åæ‰èƒ½è¿›å…¥ Phase 5               â”‚
â”‚                                                                         â”‚
â”‚  âš ï¸ è¿åä»¥ä¸Šè§„åˆ™çš„ä¸»é¢˜è§†ä¸ºæœªå®Œæˆ                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### â­ æ‰“å‹¾è§„åˆ™ï¼ˆæœ€é‡è¦ï¼ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                         â”‚
â”‚   å®Œæˆä»»åŠ¡çš„å®šä¹‰ = ä»£ç å†™å®Œ + TODOLIST.md æ‰“å‹¾                            â”‚
â”‚                                                                         â”‚
â”‚   âŒ é”™è¯¯ï¼šå†™å®Œä»£ç å°±ç»§ç»­ä¸‹ä¸€ä¸ªä»»åŠ¡                                        â”‚
â”‚   âœ… æ­£ç¡®ï¼šå†™å®Œä»£ç  â†’ æ‰“å¼€ TODOLIST.md â†’ æ‰“å‹¾ â†’ ä¿å­˜ â†’ ç»§ç»­ä¸‹ä¸€ä¸ª          â”‚
â”‚                                                                         â”‚
â”‚   æ‰“å‹¾æ“ä½œï¼šå°† `- [ ]` æ”¹ä¸º `- [x]`                                       â”‚
â”‚                                                                         â”‚
â”‚   ç¤ºä¾‹ï¼š                                                                 â”‚
â”‚   Before: - [ ] `components/button.ts`                                  â”‚
â”‚   After:  - [x] `components/button.ts`                                  â”‚
â”‚                                                                         â”‚
â”‚   âš ï¸ å¦‚æœä¸æ‰“å‹¾ï¼Œä»»åŠ¡è§†ä¸ºæœªå®Œæˆï¼                                         â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å¿«é€Ÿå¼€å§‹

```bash
# ä¸€é”®åˆ›å»ºæ–°ä¸»é¢˜
pnpm create:theme <theme-id> "<Theme Name>"

# ç¤ºä¾‹
pnpm create:theme forest-green "Forest Green"
pnpm create:theme sakura-bloom "Sakura Bloom"
```

---

## å¼€å‘æµç¨‹æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ä¸»é¢˜å¼€å‘å®Œæ•´æµç¨‹                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Step 1: åˆ›å»ºä¸»é¢˜                                                â”‚
â”‚          pnpm create:theme <id> "<name>"                        â”‚
â”‚          â†“                                                      â”‚
â”‚  Step 2: å®Œæˆ Token å®šä¹‰ (tokens.ts)                             â”‚
â”‚          å®Œæˆååœ¨ TODOLIST.md Phase 1 æ‰“å‹¾ âœ“                     â”‚
â”‚          â†“                                                      â”‚
â”‚  Step 3: å¼€å‘ Playground æ ·å¼ (styles/playground.ts)            â”‚
â”‚          å®Œæˆååœ¨ TODOLIST.md Phase 3 æ‰“å‹¾ âœ“                     â”‚
â”‚          â†“                                                      â”‚
â”‚  Step 4: å¼€å‘ç»„ä»¶æ ·å¼ (components/*.ts) â­ æœ€è€—æ—¶                 â”‚
â”‚          53 ä¸ªç»„ä»¶ï¼Œæ¯å®Œæˆ 1 ä¸ªåœ¨ TODOLIST.md æ‰“å‹¾ âœ“              â”‚
â”‚          â†“                                                      â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚  ğŸš§ å…³å¡æ£€æŸ¥ï¼šPhase 1-3 å…¨éƒ¨ [x] ä¸”æ—  // TODO å ä½æ‰èƒ½ç»§ç»­        â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚          â†“                                                      â”‚
â”‚  Step 5: æ›´æ–°å…¥å£æ–‡ä»¶ (index.ts)                                 â”‚
â”‚          ç¡®è®¤ id/name/nameKey                                    â”‚
â”‚          â†“                                                      â”‚
â”‚  Step 6: æ³¨å†Œä¸»é¢˜                                                â”‚
â”‚          æ·»åŠ åˆ° themes/index.ts å’Œ i18n                          â”‚
â”‚          â†“                                                      â”‚
â”‚  Step 7: éªŒè¯æµ‹è¯•                                                â”‚
â”‚          pnpm validate:themes && pnpm dev                       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ç›®å½•ç»“æ„

åˆ›å»ºåçš„ä¸»é¢˜ç›®å½•ï¼š

```
src/lib/themes/{theme-id}/
â”œâ”€â”€ TODOLIST.md            # ä»»åŠ¡æ¸…å•ï¼ˆåŠ¨æ€ç”Ÿæˆï¼‰
â”œâ”€â”€ tokens.ts              # Token å®šä¹‰ â† Step 2
â”œâ”€â”€ index.ts               # ä¸»å…¥å£ â† Step 5
â”œâ”€â”€ components/            # ç»„ä»¶æ ·å¼é…ç½® â† Step 4
â”‚   â”œâ”€â”€ index.ts           # barrel export
â”‚   â”œâ”€â”€ button.ts
â”‚   â”œâ”€â”€ badge.ts
â”‚   â””â”€â”€ ... (å…± 53 ä¸ª)
â””â”€â”€ styles/
    â”œâ”€â”€ index.ts
    â””â”€â”€ playground.ts      # Playground æ ·å¼ â† Step 3
```

---

## Step 2: Token å®šä¹‰

**æ–‡ä»¶**: `tokens.ts`

Token æ˜¯ä¸»é¢˜çš„åŸºç¡€ï¼Œå®šä¹‰æ‰€æœ‰é¢œè‰²ã€å­—ä½“ã€é˜´å½±ç­‰è®¾è®¡å˜é‡ã€‚**å¿…é¡»å…ˆå®Œæˆæ­¤æ­¥éª¤ï¼Œå› ä¸ºç»„ä»¶æ ·å¼ä¾èµ– Tokenã€‚**

### 2.1 å®šä¹‰è°ƒè‰²æ¿

```typescript
const palette = {
  // ä¸»è‰²ç³»
  primary: '#3B82F6',      // ä½ çš„ä¸»è‰²
  secondary: '#10B981',    // æ¬¡è¦è‰²
  accent: '#F59E0B',       // å¼ºè°ƒè‰²

  // èƒŒæ™¯è‰²
  dark: '#0F172A',
  light: '#F8FAFC',

  // ä¸­æ€§è‰²
  gray900: '#1E293B',
  gray800: '#334155',
  gray400: '#94A3B8',
  gray200: '#E2E8F0',

  // çº¯è‰²
  white: '#FFFFFF',
  black: '#000000',
};
```

### 2.2 æ˜ å°„åˆ° Token

```typescript
export const tokens: Record<string, string> = {
  // å“ç‰Œè‰² (12 ä¸ª)
  '--primary': palette.primary,
  '--primary-foreground': palette.white,
  '--primary-muted': 'color-mix(in srgb, #3B82F6 30%, transparent)',
  '--primary-vivid': '#60A5FA',
  // ... secondary, accent åŒç†

  // è¯­ä¹‰è‰² (16 ä¸ª)
  '--success': '#22C55E',
  '--warning': '#F59E0B',
  '--error': '#EF4444',
  '--destructive': '#EF4444',  // shadcn ç»„ä»¶ä½¿ç”¨
  // ... åŠå…¶ foreground/muted/vivid å˜ä½“

  // èƒŒæ™¯å±‚çº§ (8 ä¸ª)
  '--background': palette.dark,
  '--surface-1': palette.gray900,
  '--surface-2': palette.gray800,
  // ... åŠå…¶ hover çŠ¶æ€

  // æ–‡å­—é¢œè‰² (6 ä¸ª)
  '--foreground': palette.gray200,
  '--muted-foreground': palette.gray400,
  // ...

  // ç»“æ„ (8 ä¸ª)
  '--border': palette.gray700,
  '--ring': palette.primary,
  '--radius': '0.5rem',      // åœ†è§’å¤§å°
  '--border-width': '1px',   // è¾¹æ¡†å®½åº¦
  // ...

  // é˜´å½± (4 ä¸ª)
  '--shadow-sm': '0 1px 2px rgba(0,0,0,0.05)',
  '--shadow-md': '0 4px 6px rgba(0,0,0,0.1)',
  '--shadow-lg': '0 10px 15px rgba(0,0,0,0.1)',
  '--shadow-glow': '0 0 20px rgba(59,130,246,0.5)',
  // ...
};

export const meta = {
  isDark: true,  // æ˜¯å¦æ·±è‰²ä¸»é¢˜
  codeTheme: 'github-dark' as const,
};
```

### 2.3 Token åˆ†ç±»é€ŸæŸ¥

| ç±»åˆ« | æ•°é‡ | å¿…å¡« |
|------|------|------|
| å“ç‰Œè‰² (primary/secondary/accent) | 12 | âœ“ |
| è¯­ä¹‰è‰² (success/warning/error/info) | 16 | âœ“ |
| èƒŒæ™¯å±‚çº§ (background/surface) | 8 | âœ“ |
| æ–‡å­—é¢œè‰² | 6 | âœ“ |
| ç»“æ„ (border/ring/radius) | 8 | âœ“ |
| å­—ä½“ | 10 | âœ“ |
| é˜´å½± | 4 | âœ“ |
| ç‰¹æ•ˆ | 14 | å¯é€‰ |

### âœ… Step 2 å®Œæˆåï¼šç«‹å³æ‰“å‹¾ï¼

```
æ‰“å¼€ TODOLIST.mdï¼Œå°† Phase 1 çš„æ‰€æœ‰é¡¹ç›®æ‰“å‹¾ï¼š
- [x] `tokens.ts` - è°ƒè‰²æ¿å®šä¹‰ (palette)
- [x] `tokens.ts` - å“ç‰Œè‰² (primary/secondary/accent)
- [x] `tokens.ts` - è¯­ä¹‰è‰² (success/warning/error/info)
- [x] `tokens.ts` - èƒŒæ™¯å±‚çº§ (background/surface)
- [x] `tokens.ts` - æ–‡å­—é¢œè‰² (foreground/muted)
- [x] `tokens.ts` - ç»“æ„ (border/ring/radius)
- [x] `tokens.ts` - å­—ä½“ (font-sans/mono)
- [x] `tokens.ts` - é˜´å½± (shadow-sm/md/lg)
- [x] `tokens.ts` - ç‰¹æ•ˆ (effect-*)
- [x] `tokens.ts` - meta ä¿¡æ¯ (isDark/codeTheme)
```

---

## Step 3: Playground æ ·å¼

**æ–‡ä»¶**: `styles/playground.ts`

å®šä¹‰ Playground é¢„è§ˆç•Œé¢çš„ä¸»é¢˜æ ·å¼ï¼Œç¡®ä¿æ•´ä½“é£æ ¼ä¸€è‡´ã€‚

### 3.1 ä¸»é¢˜å˜é‡è¦†ç›–

```typescript
const themeVars = `
  :root {
    /* é¢æ¿æ ·å¼ */
    --pg-panel-bg: var(--surface-1);
    --pg-panel-blur: blur(0);  /* æ¯›ç»ç’ƒæ•ˆæœ */
    --pg-panel-shadow: var(--shadow-md);

    /* åœ†è§’ - æ ¹æ®ä¸»é¢˜é£æ ¼è°ƒæ•´ */
    --pg-radius-sm: 0.25rem;
    --pg-radius-md: 0.5rem;
    --pg-radius-lg: 0.75rem;

    /* æ»šåŠ¨æ¡ */
    --pg-scrollbar-radius: 0.25rem;
    --pg-scrollbar-track: var(--background);
    --pg-scrollbar-thumb: var(--surface-2);

    /* æ»‘å— */
    --pg-slider-radius: 9999px;  /* å…¨åœ† */
    --pg-slider-track: var(--primary);

    /* DevMode æŒ‰é’® */
    --pg-devmode-bg: transparent;
    --pg-devmode-border: var(--border);
    --pg-devmode-color: var(--foreground);
  }
`;
```

### 3.2 ç‰¹å®šæ ·å¼è¦†ç›–

```typescript
const overrides = `
  /* æ»šåŠ¨æ¡è¾¹æ¡† */
  ::-webkit-scrollbar-track {
    border-left: 1px solid var(--border);
  }

  /* æ¿€æ´»çŠ¶æ€å‘å…‰ */
  .playground-hud-btn-active {
    border-color: var(--primary);
    box-shadow: var(--shadow-glow);
  }
`;
```

### âœ… Step 3 å®Œæˆåï¼šç«‹å³æ‰“å‹¾ï¼

```
æ‰“å¼€ TODOLIST.mdï¼Œå°† Phase 3 çš„æ‰€æœ‰é¡¹ç›®æ‰“å‹¾ï¼š
- [x] `styles/playground.ts` - ä¸»é¢˜å˜é‡è¦†ç›– (--pg-*)
- [x] `styles/playground.ts` - é¢æ¿æ ·å¼
- [x] `styles/playground.ts` - æ»šåŠ¨æ¡æ ·å¼
- [x] `styles/playground.ts` - æ»‘å—æ ·å¼
- [x] `styles/playground.ts` - DevMode æŒ‰é’®æ ·å¼
- [x] `styles/playground.ts` - ä¸»é¢˜ç‰¹å®šè¦†ç›–
```

---

## Step 4: ç»„ä»¶æ ·å¼ â­â­â­ æœ€è€—æ—¶æ­¥éª¤

**ç›®å½•**: `components/*.ts`

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â›” Step 4 å¼ºåˆ¶è¦æ±‚ï¼š                                                    â”‚
â”‚                                                                         â”‚
â”‚  1. 53 ä¸ªç»„ä»¶å¿…é¡»é€ä¸ªå®Œæˆï¼Œç¦æ­¢è·³è¿‡                                        â”‚
â”‚  2. æ¯å®Œæˆ 1 ä¸ªç»„ä»¶ï¼Œç«‹å³åœ¨ TODOLIST.md å¯¹åº”é¡¹æ‰“å‹¾ [x]                     â”‚
â”‚  3. ç»„ä»¶æ–‡ä»¶ä¸­ç¦æ­¢ç•™ // TODO å ä½ï¼Œå¿…é¡»å¡«å…¥å®é™…æ ·å¼ä»£ç                       â”‚
â”‚  4. ä¿æŒé£æ ¼ç»Ÿä¸€ï¼šåœ†è§’ã€é˜´å½±ã€å­—ä½“ã€åŠ¨ç”»ç­‰è¦ä¸å·²å®Œæˆç»„ä»¶ä¸€è‡´                  â”‚
â”‚                                                                         â”‚
â”‚  å·¥ä½œæµç¨‹ï¼ˆæ¯ä¸ªç»„ä»¶ï¼‰ï¼š                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ 1. æ‰“å¼€ components/{component}.ts                                â”‚   â”‚
â”‚  â”‚ 2. å‚è€ƒ cyberpunk-dark åŒåæ–‡ä»¶äº†è§£ slots/variants ç»“æ„            â”‚   â”‚
â”‚  â”‚ 3. æŒ‰ä¸»é¢˜é£æ ¼å¡«å…¥æ ·å¼ï¼ˆä½¿ç”¨ Tokenï¼‰                                â”‚   â”‚
â”‚  â”‚ 4. ä¿å­˜æ–‡ä»¶                                                      â”‚   â”‚
â”‚  â”‚ 5. æ‰“å¼€ TODOLIST.mdï¼Œå°†å¯¹åº” `- [ ]` æ”¹ä¸º `- [x]`                  â”‚   â”‚
â”‚  â”‚ 6. ä¿å­˜ TODOLIST.md                                              â”‚   â”‚
â”‚  â”‚ 7. è¿›å…¥ä¸‹ä¸€ä¸ªç»„ä»¶                                                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.1 æ ¸å¿ƒåŸåˆ™

æ¯ä¸ªç»„ä»¶æ¨¡æ¿æ–‡ä»¶é¡¶éƒ¨éƒ½æœ‰ 4 å¤§å¼€å‘åŸåˆ™ï¼š

```typescript
/**
 * 1. Token ä¼˜å…ˆ
 *    - æœ‰ Token çš„åœ°æ–¹å¿…é¡»ä½¿ç”¨ Token
 *    - è¯­æ³•ï¼šé¢œè‰²ç”¨ç±»å(bg-primary)ï¼Œé˜´å½±ç”¨ var()(shadow-[var(--shadow-md)])
 *
 * 2. ç»“æ„å›ºå®šï¼Œæ ·å¼çµæ´»
 *    - slots å’Œ variants çš„ key å¿…é¡»ä¿æŒä¸€è‡´
 *    - value å®Œå…¨è‡ªç”±ï¼Œæ ¹æ®ä¸»é¢˜é£æ ¼å‘æŒ¥åˆ›æ„
 *
 * 3. é£æ ¼ç»Ÿä¸€
 *    - åŒä¸€ä¸»é¢˜å†…æ‰€æœ‰ç»„ä»¶åº”ä¿æŒä¸€è‡´çš„è®¾è®¡è¯­è¨€
 *
 * 4. åªéœ€æ»¡è¶³ç”¨é€”çº¦æŸ
 *    - æ¯ä¸ª variant æœ‰å…¶ç”¨é€”çº¦æŸï¼ˆå¦‚ destructive å¿…é¡»ç”¨ destructive Tokenï¼‰
 *    - åªè¦æ»¡è¶³çº¦æŸï¼Œå®ç°æ–¹å¼å®Œå…¨è‡ªç”±
 */
```

### 4.2 Token ä½¿ç”¨è¯­æ³•

| åœºæ™¯ | å†™æ³• | ç¤ºä¾‹ |
|------|------|------|
| èƒŒæ™¯è‰² | Tailwind ç±»å | `bg-primary`, `bg-surface-1` |
| æ–‡å­—è‰² | Tailwind ç±»å | `text-foreground`, `text-primary-foreground` |
| è¾¹æ¡†è‰² | Tailwind ç±»å | `border-border`, `border-primary` |
| é€æ˜åº¦ | Tailwind è¯­æ³• | `bg-primary/50`, `hover:bg-primary/90` |
| é˜´å½±/å‘å…‰ | var() è¯­æ³• | `shadow-[0_0_20px_var(--primary)]` |
| ä»»æ„ CSS | [] è¯­æ³• | `[clip-path:polygon(...)]` |

**è®°å¿†å£è¯€ï¼šé¢œè‰²ç”¨ç±»åï¼Œé˜´å½±ç”¨ var()**

### 4.3 ç»„ä»¶æ ·å¼ç¤ºä¾‹

```typescript
// é”åˆ©ç§‘æŠ€é£æ ¼
export const buttonConfig = {
  slots: {
    base: [
      'rounded-none',                           // æ— åœ†è§’
      'font-mono uppercase tracking-wider',     // ç­‰å®½å¤§å†™
      '[clip-path:polygon(6px_0,100%_0,...)]', // åˆ‡è§’
    ],
  },
  variants: {
    variant: {
      default: {
        base: [
          'bg-primary text-primary-foreground',
          'hover:shadow-[0_0_20px_var(--primary)]',  // éœ“è™¹å‘å…‰
        ],
      },
      destructive: {
        base: [
          'bg-destructive text-destructive-foreground',  // å¿…é¡»ç”¨ destructive Token
          'hover:shadow-[0_0_20px_var(--destructive)]',
        ],
      },
    },
  },
};

// æ¸©æš–æŸ”å’Œé£æ ¼
export const buttonConfig = {
  slots: {
    base: [
      'rounded-full',           // å…¨åœ†è§’
      'font-sans',              // æ— è¡¬çº¿
      'shadow-sm',              // æŸ”å’Œé˜´å½±
      'transition-all',         // å¹³æ»‘è¿‡æ¸¡
    ],
  },
  variants: {
    variant: {
      default: {
        base: [
          'bg-primary text-primary-foreground',
          'hover:shadow-md hover:scale-105',  // æŸ”å’Œæ”¾å¤§
        ],
      },
    },
  },
};
```

### 4.4 å¼€å‘é¡ºåºå»ºè®®

æŒ‰ TODOLIST.md ä¸­çš„é¡ºåºå¼€å‘ï¼Œå»ºè®®ä¼˜å…ˆçº§ï¼š

1. **åŸºç¡€ç»„ä»¶**: button, badge, input, checkbox, switch
2. **åé¦ˆç»„ä»¶**: progress, spinner, skeleton, alert
3. **å¯¼èˆªç»„ä»¶**: tabs, breadcrumb, pagination
4. **è¦†ç›–å±‚**: popover, tooltip, dialog, sheet
5. **è¡¨å•ç»„ä»¶**: form, select, combobox
6. **æ•°æ®å±•ç¤º**: table, card, accordion
7. **å…¶ä»–ç»„ä»¶**: å‰©ä½™æ‰€æœ‰

### âœ… Step 4 æ‰“å‹¾è§„åˆ™ï¼ˆé‡å¤å¼ºè°ƒï¼ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                         â”‚
â”‚   âš ï¸ æ¯å®Œæˆ 1 ä¸ªç»„ä»¶ï¼Œå¿…é¡»ç«‹å³æ‰“å‹¾ï¼                                      â”‚
â”‚                                                                         â”‚
â”‚   å·¥ä½œå¾ªç¯ï¼ˆé‡å¤ 53 æ¬¡ï¼‰ï¼š                                                â”‚
â”‚                                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  1. ç¼–è¾‘ components/{component}.ts                              â”‚   â”‚
â”‚   â”‚  2. å¡«å…¥æ ·å¼ï¼ˆä¸ç•™ // TODOï¼‰                                     â”‚   â”‚
â”‚   â”‚  3. ä¿å­˜                                                        â”‚   â”‚
â”‚   â”‚                                                                 â”‚   â”‚
â”‚   â”‚  4. æ‰“å¼€ TODOLIST.md                          â† ä¸è¦è·³è¿‡ï¼       â”‚   â”‚
â”‚   â”‚  5. æ‰¾åˆ° `- [ ] components/{component}.ts`                      â”‚   â”‚
â”‚   â”‚  6. æ”¹ä¸º `- [x] components/{component}.ts`                      â”‚   â”‚
â”‚   â”‚  7. ä¿å­˜ TODOLIST.md                          â† ä¸è¦è·³è¿‡ï¼       â”‚   â”‚
â”‚   â”‚                                                                 â”‚   â”‚
â”‚   â”‚  8. ç»§ç»­ä¸‹ä¸€ä¸ªç»„ä»¶                                               â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚   âŒ ç¦æ­¢ï¼šåšå®Œå¤šä¸ªç»„ä»¶åæ‰¹é‡æ‰“å‹¾                                         â”‚
â”‚   âŒ ç¦æ­¢ï¼šåšå®Œæ‰€æœ‰ç»„ä»¶åæ‰æ‰“å‹¾                                           â”‚
â”‚   âœ… æ­£ç¡®ï¼šæ¯å®Œæˆ 1 ä¸ªç«‹å³æ‰“å‹¾                                            â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš§ å…³å¡æ£€æŸ¥ç‚¹ï¼šè¿›å…¥ Step 5 å‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â›” è¿›å…¥ Step 5 å‰ï¼Œå¿…é¡»ç¡®è®¤ä»¥ä¸‹æ¡ä»¶å…¨éƒ¨æ»¡è¶³ï¼š                              â”‚
â”‚                                                                         â”‚
â”‚  â–¡ TODOLIST.md Phase 1 (Token å®šä¹‰) å…¨éƒ¨æ‰“å‹¾ [x]                         â”‚
â”‚  â–¡ TODOLIST.md Phase 2 (53 ä¸ªç»„ä»¶) å…¨éƒ¨æ‰“å‹¾ [x]                          â”‚
â”‚  â–¡ TODOLIST.md Phase 3 (Playground æ ·å¼) å…¨éƒ¨æ‰“å‹¾ [x]                    â”‚
â”‚  â–¡ æ‰€æœ‰ç»„ä»¶æ–‡ä»¶ä¸­æ²¡æœ‰ // TODO å ä½                                        â”‚
â”‚                                                                         â”‚
â”‚  å¿«é€Ÿæ£€æŸ¥å‘½ä»¤ï¼š                                                           â”‚
â”‚  grep -r "// TODO" src/lib/themes/{your-theme}/components/              â”‚
â”‚  â†’ åº”è¯¥è¿”å›ç©ºï¼ˆæ— åŒ¹é…ï¼‰                                                   â”‚
â”‚                                                                         â”‚
â”‚  âš ï¸ å¦‚æœä¸Šè¿°æ¡ä»¶æœªæ»¡è¶³ï¼Œç¦æ­¢è¿›å…¥ Step 5                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Step 5: æ›´æ–°å…¥å£æ–‡ä»¶

**æ–‡ä»¶**: `index.ts`

ç¡®è®¤ä»¥ä¸‹å†…å®¹æ­£ç¡®ï¼š

```typescript
export const forestGreenTheme: ThemeDefinition = {
  id: 'forest-green',           // ä¸»é¢˜ ID (kebab-case)
  name: 'Forest Green',         // æ˜¾ç¤ºåç§°
  nameKey: 'themeNameForestGreen',  // i18n é”®

  isDark: meta.isDark,
  cssVars: tokens,
  components: { /* ... */ },
  playgroundGlobalCss,
  canvasSizes: {
    popover: { width: 200, height: 120 },
    tooltip: { width: 200, height: 120 },
  },
};
```

---

## Step 6: æ³¨å†Œä¸»é¢˜

### 6.1 æ·»åŠ åˆ°ä¸»é¢˜æ³¨å†Œè¡¨

**æ–‡ä»¶**: `src/lib/themes/index.ts`

```typescript
// 1. æ·»åŠ å¯¼å…¥
import { forestGreenTheme } from './forest-green';

// 2. æ·»åŠ åˆ° THEMES å¯¹è±¡
export const THEMES: Record<string, ThemeDefinition> = {
  // ... ç°æœ‰ä¸»é¢˜
  'forest-green': forestGreenTheme,
};

// 3. æ·»åŠ å¯¼å‡º
export { forestGreenTheme } from './forest-green';
```

### 6.2 æ·»åŠ  i18n ç¿»è¯‘

**æ–‡ä»¶**: `src/lib/i18n/messages/themes.ts`

```typescript
themeNameForestGreen: {
  "en": "Forest Green",
  "zh-Hans": "æ£®æ—ç»¿",
  "zh-Hant": "æ£®æ—ç¶ ",
  "zh": "æ£®æ—ç»¿",
  "ja": "ãƒ•ã‚©ãƒ¬ã‚¹ãƒˆã‚°ãƒªãƒ¼ãƒ³",
  "ko": "í¬ë ˆìŠ¤íŠ¸ ê·¸ë¦°",
  // ... å…¶ä»–è¯­è¨€
},
```

---

## Step 7: éªŒè¯æµ‹è¯•

### 7.1 è¿è¡Œæ ¡éªŒè„šæœ¬

```bash
pnpm validate:themes
```

é¢„æœŸè¾“å‡ºï¼š
```
âœ“ æ‰€æœ‰ N ä¸ªä¸»é¢˜éƒ½æœ‰ 56 ä¸ªç»„ä»¶é…ç½®
âœ“ æ‰€æœ‰ N ä¸ªä¸»é¢˜éƒ½æœ‰ 78 ä¸ª Token
âœ“ 56 ä¸ªç»„ä»¶çš„ Slots é…ç½®ä¸€è‡´
âœ“ Variants é…ç½®æ£€æŸ¥å®Œæˆ
æ ¡éªŒé€šè¿‡ - æ‰€æœ‰ä¸»é¢˜é…ç½®å®Œæ•´ä¸€è‡´
```

### 7.2 æœ¬åœ°æµ‹è¯•

```bash
pnpm dev
```

åœ¨ Playground ä¸­ï¼š
- [ ] åˆ‡æ¢åˆ°æ–°ä¸»é¢˜
- [ ] æ£€æŸ¥æ‰€æœ‰ç»„ä»¶æ˜¾ç¤ºæ­£å¸¸
- [ ] æ£€æŸ¥ Playground UI é£æ ¼ä¸€è‡´
- [ ] æ£€æŸ¥æ·±è‰²/æµ…è‰²æ¨¡å¼ (å¦‚é€‚ç”¨)

---

## å‘½ä»¤å‚è€ƒ

| å‘½ä»¤ | ç”¨é€” |
|------|------|
| `pnpm create:theme <id> "<name>"` | åˆ›å»ºæ–°ä¸»é¢˜ |
| `pnpm validate:themes` | éªŒè¯ä¸»é¢˜å®Œæ•´æ€§ |
| `pnpm dev` | æœ¬åœ°å¼€å‘æœåŠ¡å™¨ |

---

## å¸¸è§é—®é¢˜

### Q: ç»„ä»¶æ•°é‡ä¸ä¸€è‡´æ€ä¹ˆåŠï¼Ÿ

è¿è¡Œ `pnpm validate:themes` ä¼šæç¤ºç¼ºå°‘çš„ç»„ä»¶ï¼ŒæŒ‰æç¤ºè¡¥å……ã€‚

### Q: å¦‚ä½•å‚è€ƒå…¶ä»–ä¸»é¢˜ï¼Ÿ

æŸ¥çœ‹ `src/lib/themes/` ä¸‹ç°æœ‰ä¸»é¢˜ï¼š
- `theme-template` - å¼€å‘æ¨¡æ¿ï¼Œåªæœ‰ç»“æ„å’Œ TODO
- `cyberpunk-dark` - éœ“è™¹èµ›åšé£æ ¼
- `ocean-blue` - æ¸…æ–°æµ·æ´‹é£æ ¼
- `sunset-warm` - æ¸©æš–æ—¥è½é£æ ¼
- `neo-brutalism` - æ–°é‡å…½æ´¾é£æ ¼

### Q: Playground æ ·å¼ä¸ç”Ÿæ•ˆï¼Ÿ

1. æ£€æŸ¥ `styles/playground.ts` æ˜¯å¦æ­£ç¡®å¯¼å‡º `playgroundGlobalCss`
2. æ£€æŸ¥ `styles/index.ts` æ˜¯å¦å¯¼å‡º
3. æ£€æŸ¥ `index.ts` æ˜¯å¦å¼•ç”¨ `playgroundGlobalCss`

### Q: ä¸»é¢˜åœ¨ç”»å¸ƒä¸­ä¸æ˜¾ç¤ºï¼Ÿ

1. ç¡®è®¤å·²æ·»åŠ åˆ° `src/lib/themes/index.ts` çš„ THEMES å¯¹è±¡
2. ç¡®è®¤ i18n ç¿»è¯‘å·²æ·»åŠ 
3. é‡å¯å¼€å‘æœåŠ¡å™¨

---

## ç›¸å…³æ–‡ä»¶

| æ–‡ä»¶ | ç”¨é€” |
|------|------|
| `src/lib/themes/theme-template/` | å¼€å‘æ¨¡æ¿ç›®å½• |
| `src/lib/themes/theme-template/components/` | ç»„ä»¶æ¨¡æ¿ï¼ˆå«è¯¦ç»†è¯´æ˜ï¼‰ |
| `scripts/create-theme.ts` | ä¸»é¢˜åˆ›å»ºè„šæœ¬ |
| `scripts/validate-themes.ts` | ä¸»é¢˜æ ¡éªŒè„šæœ¬ |
| `src/lib/i18n/messages/themes.ts` | ä¸»é¢˜å¤šè¯­è¨€ç¿»è¯‘ |
| `docs/dev-sop/theme-delete.md` | ä¸»é¢˜åˆ é™¤ SOP |
